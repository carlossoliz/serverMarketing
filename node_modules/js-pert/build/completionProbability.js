"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const gaussian_1 = __importDefault(require("gaussian"));
const network_1 = require("./network");
const distribution = gaussian_1.default(0, 1);
const getVariance = (criticalPath, activitiesParams) => criticalPath
    .map(nodeId => activitiesParams[nodeId].variance)
    .reduce((prev, curr) => prev + curr, 0);
const getCompletionProbability = ({ criticalPath, activitiesParams, latestFinishTimes }, days) => {
    const variance = getVariance(criticalPath, activitiesParams);
    const Z0 = (days - latestFinishTimes[network_1.END]) / Math.sqrt(variance);
    return distribution.cdf(Z0);
};
exports.default = getCompletionProbability;
//# sourceMappingURL=completionProbability.js.map